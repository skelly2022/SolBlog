{"ast":null,"code":"var _jsxFileName = \"/Users/stephenkelly/chessrush/client/src/components/Timer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useGameUpdateState } from \"../utils/GameContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Timer(_ref) {\n  _s();\n\n  let {\n    time\n  } = _ref;\n  const {\n    updateGameOver\n  } = useGameUpdateState();\n  const {\n    updateShow\n  } = useGameUpdateState();\n  const {\n    hours = 0,\n    minutes = 0,\n    seconds = 60\n  } = time;\n  const [[hrs, mins, secs], setTime] = React.useState([hours, minutes, seconds]);\n\n  const tick = () => {\n    if (hrs === 0 && mins === 0 && secs === 0) reset();else if (mins === 0 && secs === 0) {\n      setTime([hrs - 1, 59, 59]);\n    } else if (secs === 0) {\n      setTime([hrs, mins - 1, 59]);\n    } else {\n      setTime([hrs, mins, secs - 1]);\n    }\n  };\n\n  const reset = () => setTime([parseInt(hours), parseInt(minutes), parseInt(seconds)]);\n\n  useEffect(() => {\n    const timerId = setInterval(() => tick(), 1000);\n    return () => clearInterval(timerId);\n  });\n  useEffect(() => {\n    if (hrs === 0 && mins === 0 && secs === 0) {\n      updateGameOver();\n      updateShow();\n    }\n  }, [hrs, mins, secs, updateGameOver, updateShow]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        padding: \"5px\"\n      },\n      children: `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Timer, \"mJcvX4iTsWWu/vtAyBpJ/9nI+tg=\", false, function () {\n  return [useGameUpdateState, useGameUpdateState];\n});\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["React","useEffect","useGameUpdateState","Timer","time","updateGameOver","updateShow","hours","minutes","seconds","hrs","mins","secs","setTime","useState","tick","reset","parseInt","timerId","setInterval","clearInterval","textAlign","padding","toString","padStart"],"sources":["/Users/stephenkelly/chessrush/client/src/components/Timer.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useGameUpdateState } from \"../utils/GameContext\";\n\nfunction Timer({ time }) {\n  const { updateGameOver } = useGameUpdateState();\n  const { updateShow } = useGameUpdateState();\n  const { hours = 0, minutes = 0, seconds = 60 } = time;\n  const [[hrs, mins, secs], setTime] = React.useState([\n    hours,\n    minutes,\n    seconds,\n  ]);\n\n  const tick = () => {\n    if (hrs === 0 && mins === 0 && secs === 0) reset();\n    else if (mins === 0 && secs === 0) {\n      setTime([hrs - 1, 59, 59]);\n    } else if (secs === 0) {\n      setTime([hrs, mins - 1, 59]);\n    } else {\n      setTime([hrs, mins, secs - 1]);\n    }\n  };\n\n  const reset = () =>\n    setTime([parseInt(hours), parseInt(minutes), parseInt(seconds)]);\n\n  useEffect(() => {\n    const timerId = setInterval(() => tick(), 1000);\n    return () => clearInterval(timerId);\n  });\n\n  useEffect(() => {\n    if (hrs === 0 && mins === 0 && secs === 0) {\n      updateGameOver();\n      updateShow();\n    }\n  }, [hrs, mins, secs, updateGameOver, updateShow]);\n\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <h3 style={{ padding: \"5px\" }}>{`${mins\n        .toString()\n        .padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`}</h3>\n    </div>\n  );\n}\n\nexport default Timer;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,kBAAT,QAAmC,sBAAnC;;;AAEA,SAASC,KAAT,OAAyB;EAAA;;EAAA,IAAV;IAAEC;EAAF,CAAU;EACvB,MAAM;IAAEC;EAAF,IAAqBH,kBAAkB,EAA7C;EACA,MAAM;IAAEI;EAAF,IAAiBJ,kBAAkB,EAAzC;EACA,MAAM;IAAEK,KAAK,GAAG,CAAV;IAAaC,OAAO,GAAG,CAAvB;IAA0BC,OAAO,GAAG;EAApC,IAA2CL,IAAjD;EACA,MAAM,CAAC,CAACM,GAAD,EAAMC,IAAN,EAAYC,IAAZ,CAAD,EAAoBC,OAApB,IAA+Bb,KAAK,CAACc,QAAN,CAAe,CAClDP,KADkD,EAElDC,OAFkD,EAGlDC,OAHkD,CAAf,CAArC;;EAMA,MAAMM,IAAI,GAAG,MAAM;IACjB,IAAIL,GAAG,KAAK,CAAR,IAAaC,IAAI,KAAK,CAAtB,IAA2BC,IAAI,KAAK,CAAxC,EAA2CI,KAAK,GAAhD,KACK,IAAIL,IAAI,KAAK,CAAT,IAAcC,IAAI,KAAK,CAA3B,EAA8B;MACjCC,OAAO,CAAC,CAACH,GAAG,GAAG,CAAP,EAAU,EAAV,EAAc,EAAd,CAAD,CAAP;IACD,CAFI,MAEE,IAAIE,IAAI,KAAK,CAAb,EAAgB;MACrBC,OAAO,CAAC,CAACH,GAAD,EAAMC,IAAI,GAAG,CAAb,EAAgB,EAAhB,CAAD,CAAP;IACD,CAFM,MAEA;MACLE,OAAO,CAAC,CAACH,GAAD,EAAMC,IAAN,EAAYC,IAAI,GAAG,CAAnB,CAAD,CAAP;IACD;EACF,CATD;;EAWA,MAAMI,KAAK,GAAG,MACZH,OAAO,CAAC,CAACI,QAAQ,CAACV,KAAD,CAAT,EAAkBU,QAAQ,CAACT,OAAD,CAA1B,EAAqCS,QAAQ,CAACR,OAAD,CAA7C,CAAD,CADT;;EAGAR,SAAS,CAAC,MAAM;IACd,MAAMiB,OAAO,GAAGC,WAAW,CAAC,MAAMJ,IAAI,EAAX,EAAe,IAAf,CAA3B;IACA,OAAO,MAAMK,aAAa,CAACF,OAAD,CAA1B;EACD,CAHQ,CAAT;EAKAjB,SAAS,CAAC,MAAM;IACd,IAAIS,GAAG,KAAK,CAAR,IAAaC,IAAI,KAAK,CAAtB,IAA2BC,IAAI,KAAK,CAAxC,EAA2C;MACzCP,cAAc;MACdC,UAAU;IACX;EACF,CALQ,EAKN,CAACI,GAAD,EAAMC,IAAN,EAAYC,IAAZ,EAAkBP,cAAlB,EAAkCC,UAAlC,CALM,CAAT;EAOA,oBACE;IAAK,KAAK,EAAE;MAAEe,SAAS,EAAE;IAAb,CAAZ;IAAA,uBACE;MAAI,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAX,CAAX;MAAA,UAAiC,GAAEX,IAAI,CACpCY,QADgC,GAEhCC,QAFgC,CAEvB,CAFuB,EAEpB,GAFoB,CAEf,IAAGZ,IAAI,CAACW,QAAL,GAAgBC,QAAhB,CAAyB,CAAzB,EAA4B,GAA5B,CAAiC;IAFxD;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAOD;;GA3CQrB,K;UACoBD,kB,EACJA,kB;;;KAFhBC,K;AA6CT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/stephenkelly/chessrush/client/src/components/TacticSession.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useGameState, useGameUpdateState } from \"../utils/GameContext\";\nimport { Container, Modal, Col, Card, ListGroup } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport TacticBoard from \"./TacticBoard\";\nimport chessmove from \"../audio/chessmove.wav\";\nimport solve from \"../audio/puzzle solve.wav\";\nimport wrongmove from \"../audio/incorrect move.wav\";\nimport axios from \"axios\";\nimport Timer from \"./Timer\";\nimport { getSideToPlayFromFen } from \"../utils/chessTactics\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { QUERY_SCORE } from \"../utils/queries\";\nimport { CREATE_VOTE } from \"../utils/mutations\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TacticSession = () => {\n  _s();\n\n  const [chessboardSize, setChessboardSize] = useState(500);\n  const [key, setKey] = useState(Date.now());\n  const [tactic, setTactic] = useState({});\n  const [score, SetScore] = useState(0);\n  const {\n    gameOver\n  } = useGameState(); // const { show } = useGameState();\n  // const { updateShow } = useGameUpdateState();\n  // const { updateGameOver } = useGameUpdateState();\n  // const { reset } = useGameUpdateState();\n\n  const [loading, setLoading] = useState(true);\n  const [walletAddress, setWalletAddress] = useState(null);\n  const [updateScore, {\n    error\n  }] = useMutation(CREATE_VOTE);\n  const cat = localStorage.getItem(\"wallet\");\n  const adding = {\n    wallet: cat\n  };\n  const {\n    data\n  } = useQuery(QUERY_SCORE, {\n    variables: { ...adding\n    }\n  });\n  const x = data; //   if (x.score.length>0){\n  // console.log(x);\n  //   };\n  // SetScore(data.score.highScore);\n\n  const checkIfWalletIsConnected = async () => {\n    try {\n      const {\n        solana\n      } = window;\n\n      if (solana) {\n        if (solana.isPhantom) {\n          console.log(\"Phantom wallet found!\");\n          const response = await solana.connect({\n            onlyIfTrusted: true\n          });\n          console.log(\"Connected with Public Key:\", response.publicKey.toString());\n          /*\n           * Set the user's publicKey in state to be used later!\n           */\n\n          setWalletAddress(response.publicKey.toString());\n        }\n      } else {\n        alert(\"Solana object not found! Get a Phantom Wallet ðŸ‘»\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const postScore = async newScore => {\n    const id = window.localStorage.getItem(\"id\");\n    console.log(newScore); // scoreChange = newScore;\n\n    const updateS = {\n      _id: id,\n      elo: newScore.toString()\n    };\n\n    try {\n      const {\n        data\n      } = await updateScore({\n        variables: { ...updateS\n        }\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  async function getPuzzle() {\n    let data = await axios(\"https://chess-puzzle-server.herokuapp.com/\").then(data => {\n      const payload = data.data;\n      console.log(payload);\n      return payload;\n    });\n    setTactic(data);\n    setInterval(() => {\n      setLoading(false);\n    }, 3000);\n  }\n\n  useEffect(() => {\n    if (!loading) {\n      function handleResize() {\n        const display = document.getElementsByClassName(\"container\")[0];\n        const displayDiv = display.getElementsByTagName(\"div\")[0];\n        const chessBoardContainer = displayDiv.getElementsByTagName(\"div\")[0];\n        chessBoardContainer.setAttribute(\"style\", \"position: relative; display: flex; align-items: center; justify-content: center;\");\n\n        if (display.offsetWidth >= 1140) {\n          setChessboardSize(display.offsetWidth * 0.49);\n        }\n\n        if (display.offsetWidth >= 960 && display.offsetWidth < 1140) {\n          setChessboardSize(display.offsetWidth * 0.69);\n        }\n\n        if (display.offsetWidth >= 720 && display.offsetWidth < 960) {\n          setChessboardSize(display.offsetWidth * 0.82);\n        }\n\n        if (display.offsetWidth >= 720 && display.offsetWidth < 960) {\n          setChessboardSize(display.offsetWidth * 0.8);\n        }\n\n        if (display.offsetWidth <= 540) {\n          setChessboardSize(display.offsetWidth);\n        }\n      }\n\n      window.addEventListener(\"resize\", handleResize);\n      handleResize();\n      return () => window.removeEventListener(\"resize\", handleResize);\n    }\n  }, [loading]);\n  useEffect(() => {\n    if (!loading) {\n      console.log(x);\n      const iD = x.score._id;\n      localStorage.removeItem(\"id\");\n      localStorage.setItem(\"id\", iD);\n      const currentScore = x.score.highScore;\n      SetScore(currentScore);\n    }\n  }, [loading]);\n  useEffect(() => {\n    getPuzzle();\n  }, []);\n  useEffect(() => {\n    const onLoad = async () => {\n      await checkIfWalletIsConnected();\n    };\n\n    window.addEventListener(\"load\", onLoad);\n    return () => window.removeEventListener(\"load\", onLoad);\n  }, []);\n\n  async function solutionFunction() {\n    let audio = new Audio(solve); // audio.play();\n\n    setTimeout(() => {\n      audio.pause();\n    }, 800);\n    const newScore = score + +1;\n    SetScore(newScore);\n    postScore(newScore);\n    await getPuzzle();\n    setKey(Date.now());\n  }\n\n  async function correctFunction() {\n    let audio = new Audio(chessmove); // audio.play();\n\n    setTimeout(() => {\n      audio.pause();\n    }, 200);\n  }\n\n  async function incorrectFunction() {\n    let audio = new Audio(wrongmove); // audio.play();\n\n    setTimeout(() => {\n      audio.pause();\n    }, 1000);\n    SetScore(score - 1);\n    await getPuzzle();\n    setKey(Date.now());\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader loader-inner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"mainContainer\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: \"chessBody\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            className: \"chessContainer\",\n            children: /*#__PURE__*/_jsxDEV(TacticBoard, {\n              tactic: tactic,\n              boardWidth: chessboardSize,\n              onCorrect: correctFunction,\n              onIncorrect: incorrectFunction,\n              onSolve: solutionFunction\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this), !gameOver && /*#__PURE__*/_jsxDEV(Col, {\n          className: \"chessHeader\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"cardShadow\",\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: \"center\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: [\"Score: \", score]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: getSideToPlayFromFen(tactic.fen) === \"b\" ? \"White to Play\" : \"Black to Play\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n};\n\n_s(TacticSession, \"1HaVMzlfPA564eLhmQoQTmBbeTE=\", false, function () {\n  return [useGameState, useMutation, useQuery];\n});\n\n_c = TacticSession;\nexport default TacticSession;\n\nvar _c;\n\n$RefreshReg$(_c, \"TacticSession\");","map":{"version":3,"names":["React","useState","useEffect","useGameState","useGameUpdateState","Container","Modal","Col","Card","ListGroup","Link","TacticBoard","chessmove","solve","wrongmove","axios","Timer","getSideToPlayFromFen","useQuery","useMutation","QUERY_SCORE","CREATE_VOTE","TacticSession","chessboardSize","setChessboardSize","key","setKey","Date","now","tactic","setTactic","score","SetScore","gameOver","loading","setLoading","walletAddress","setWalletAddress","updateScore","error","cat","localStorage","getItem","adding","wallet","data","variables","x","checkIfWalletIsConnected","solana","window","isPhantom","console","log","response","connect","onlyIfTrusted","publicKey","toString","alert","postScore","newScore","id","updateS","_id","elo","getPuzzle","then","payload","setInterval","handleResize","display","document","getElementsByClassName","displayDiv","getElementsByTagName","chessBoardContainer","setAttribute","offsetWidth","addEventListener","removeEventListener","iD","removeItem","setItem","currentScore","highScore","onLoad","solutionFunction","audio","Audio","setTimeout","pause","correctFunction","incorrectFunction","textAlign","fen"],"sources":["/Users/stephenkelly/chessrush/client/src/components/TacticSession.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useGameState, useGameUpdateState } from \"../utils/GameContext\";\nimport { Container, Modal, Col, Card, ListGroup } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport TacticBoard from \"./TacticBoard\";\nimport chessmove from \"../audio/chessmove.wav\";\nimport solve from \"../audio/puzzle solve.wav\";\nimport wrongmove from \"../audio/incorrect move.wav\";\nimport axios from \"axios\";\nimport Timer from \"./Timer\";\nimport { getSideToPlayFromFen } from \"../utils/chessTactics\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { QUERY_SCORE } from \"../utils/queries\";\nimport { CREATE_VOTE } from \"../utils/mutations\";\n\nconst TacticSession = () => {\n  const [chessboardSize, setChessboardSize] = useState(500);\n  const [key, setKey] = useState(Date.now());\n  const [tactic, setTactic] = useState({});\n  const [score, SetScore] = useState(0);\n\n  const { gameOver } = useGameState();\n  // const { show } = useGameState();\n  // const { updateShow } = useGameUpdateState();\n  // const { updateGameOver } = useGameUpdateState();\n  // const { reset } = useGameUpdateState();\n  const [loading, setLoading] = useState(true);\n\n  const [walletAddress, setWalletAddress] = useState(null);\n  const [updateScore, { error }] = useMutation(CREATE_VOTE);\n\n  const cat = localStorage.getItem(\"wallet\");\n  const adding = { wallet: cat };\n\n  const { data } = useQuery(QUERY_SCORE, {\n    variables: { ...adding },\n  });\n  const x = data;\n\n  //   if (x.score.length>0){\n  // console.log(x);\n  //   };\n\n  // SetScore(data.score.highScore);\n\n  const checkIfWalletIsConnected = async () => {\n    try {\n      const { solana } = window;\n\n      if (solana) {\n        if (solana.isPhantom) {\n          console.log(\"Phantom wallet found!\");\n          const response = await solana.connect({ onlyIfTrusted: true });\n          console.log(\n            \"Connected with Public Key:\",\n            response.publicKey.toString()\n          );\n\n          /*\n           * Set the user's publicKey in state to be used later!\n           */\n\n          setWalletAddress(response.publicKey.toString());\n        }\n      } else {\n        alert(\"Solana object not found! Get a Phantom Wallet ðŸ‘»\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const postScore = async (newScore) => {\n    const id = window.localStorage.getItem(\"id\");\n    console.log(newScore);\n    // scoreChange = newScore;\n    const updateS = { _id: id, elo: newScore.toString()};\n    try {\n      const { data } = await updateScore({\n        variables: { ...updateS },\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  async function getPuzzle() {\n    let data = await axios(\"https://chess-puzzle-server.herokuapp.com/\").then(\n      (data) => {\n        const payload = data.data;\n        console.log(payload);\n\n        return payload;\n      }\n    );\n\n    setTactic(data);\n    setInterval(() => {\n      setLoading(false);\n    }, 3000);\n  }\n\n  useEffect(() => {\n    if (!loading) {\n      function handleResize() {\n        const display = document.getElementsByClassName(\"container\")[0];\n        const displayDiv = display.getElementsByTagName(\"div\")[0];\n        const chessBoardContainer = displayDiv.getElementsByTagName(\"div\")[0];\n\n        chessBoardContainer.setAttribute(\n          \"style\",\n          \"position: relative; display: flex; align-items: center; justify-content: center;\"\n        );\n\n        if (display.offsetWidth >= 1140) {\n          setChessboardSize(display.offsetWidth * 0.49);\n        }\n\n        if (display.offsetWidth >= 960 && display.offsetWidth < 1140) {\n          setChessboardSize(display.offsetWidth * 0.69);\n        }\n\n        if (display.offsetWidth >= 720 && display.offsetWidth < 960) {\n          setChessboardSize(display.offsetWidth * 0.82);\n        }\n\n        if (display.offsetWidth >= 720 && display.offsetWidth < 960) {\n          setChessboardSize(display.offsetWidth * 0.8);\n        }\n\n        if (display.offsetWidth <= 540) {\n          setChessboardSize(display.offsetWidth);\n        }\n      }\n\n      window.addEventListener(\"resize\", handleResize);\n      handleResize();\n      return () => window.removeEventListener(\"resize\", handleResize);\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    if (!loading) {\n      console.log(x);\n      const iD = x.score._id;\n      localStorage.removeItem(\"id\");\n      localStorage.setItem(\"id\", iD);\n      const currentScore = x.score.highScore;\n      SetScore(currentScore);\n    }\n  }, [loading]);\n\n  useEffect(() => {\n    getPuzzle();\n  }, []);\n\n  useEffect(() => {\n    const onLoad = async () => {\n      await checkIfWalletIsConnected();\n    };\n    window.addEventListener(\"load\", onLoad);\n    return () => window.removeEventListener(\"load\", onLoad);\n  }, []);\n\n  async function solutionFunction() {\n    let audio = new Audio(solve);\n    // audio.play();\n    setTimeout(() => {\n      audio.pause();\n    }, 800);\n    const newScore = (score + +1);\n    SetScore(newScore);\n    postScore(newScore);\n    await getPuzzle();\n    setKey(Date.now());\n  }\n\n  async function correctFunction() {\n    let audio = new Audio(chessmove);\n    // audio.play();\n    setTimeout(() => {\n      audio.pause();\n    }, 200);\n  }\n\n  async function incorrectFunction() {\n    let audio = new Audio(wrongmove);\n    // audio.play();\n    setTimeout(() => {\n      audio.pause();\n    }, 1000);\n    SetScore(score - 1);\n    await getPuzzle();\n    setKey(Date.now());\n  }\n  return (\n    <>\n      {loading ? (\n        <div className=\"loader-wrapper\">\n          <div className=\"loader\">\n            <div className=\"loader loader-inner\"></div>\n          </div>\n        </div>\n      ) : (\n        <>\n          <Container className=\"mainContainer\">\n            <Col className=\"chessBody\">\n              <Container className=\"chessContainer\">\n                <TacticBoard\n                  key={key}\n                  tactic={tactic}\n                  boardWidth={chessboardSize}\n                  onCorrect={correctFunction}\n                  onIncorrect={incorrectFunction}\n                  onSolve={solutionFunction}\n                />\n              </Container>\n            </Col>\n\n            {!gameOver && (\n              <Col className=\"chessHeader\">\n                <Card className=\"cardShadow\">\n                  <ListGroup>\n                    <ListGroup.Item>\n                      {/* <Timer time={{ hours: 0, minutes: 0, seconds: 10 }} /> */}\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                      <div style={{ textAlign: \"center\" }}>\n                        <h2>Score: {score}</h2>\n                        <h4>\n                          {getSideToPlayFromFen(tactic.fen) === \"b\"\n                            ? \"White to Play\"\n                            : \"Black to Play\"}\n                        </h4>\n                      </div>\n                    </ListGroup.Item>\n                  </ListGroup>\n                </Card>\n              </Col>\n            )}\n\n            {/* <Modal\n              show={show}\n              onHide={updateShow}\n              backdrop=\"static\"\n              keyboard={false}\n              centered\n            >\n              <Modal.Header>\n                <Modal.Title style={{ margin: \"auto\", fontSize: \"2.5rem\" }}>\n                  Game Over!\n                </Modal.Title>\n              </Modal.Header>\n              <Modal.Body>\n                <h2>Score: {score}</h2>\n              </Modal.Body>\n              <Modal.Footer>\n                <Link onClick={reset} className=\"btn btn-primary\" to=\"/\">\n                  Return to menu\n                </Link>\n              </Modal.Footer>\n            </Modal> */}\n          </Container>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default TacticSession;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}